/* Msg v11.4.3 https://github.com/Merkoba/Msg */
const Msg={factory:function(o={}){const t={close_enabled:!0,click_enabled:!0,keys_enabled:!0,closing:!1,stack_pos_top:void 0,stack_pos_bottom:void 0,stack_pos_left:void 0,stack_pos_right:void 0,stack_width:void 0,stack_height:void 0,slide_in_ongoing:!1,content_for_close_on_show:void 0,callback_for_close_on_show:void 0};if(t.options=o,t.check_options=function(){void 0!==t.options.preset&&("popup"===t.options.preset?(void 0===t.options.class&&(t.options.class="green"),void 0===t.options.enable_overlay&&(t.options.enable_overlay=!1),void 0===t.options.position&&(t.options.position="bottomright"),void 0===t.options.remove_after_close&&(t.options.remove_after_close=!0),void 0===t.options.zStack_level&&(t.options.zStack_level=1),void 0===t.options.window_width&&(t.options.window_width="460px"),void 0===t.options.lock&&(t.options.lock=!1),void 0===t.options.show_effect&&(t.options.show_effect="fade"),void 0===t.options.show_effect_duration&&(t.options.show_effect_duration=350),void 0===t.options.close_effect&&(t.options.close_effect="fade"),void 0===t.options.close_effect_duration&&(t.options.close_effect_duration=350)):"popup_autoclose"===t.options.preset?(void 0===t.options.class&&(t.options.class="green"),void 0===t.options.enable_overlay&&(t.options.enable_overlay=!1),void 0===t.options.position&&(t.options.position="bottomright"),void 0===t.options.autoclose&&(t.options.autoclose=!0),void 0===t.options.enable_progressbar&&(t.options.enable_progressbar=!0),void 0===t.options.remove_after_close&&(t.options.remove_after_close=!0),void 0===t.options.zStack_level&&(t.options.zStack_level=1),void 0===t.options.window_width&&(t.options.window_width="460px"),void 0===t.options.lock&&(t.options.lock=!1),void 0===t.options.show_effect&&(t.options.show_effect="fade"),void 0===t.options.show_effect_duration&&(t.options.show_effect_duration=350),void 0===t.options.close_effect&&(t.options.close_effect="fade"),void 0===t.options.close_effect_duration&&(t.options.close_effect_duration=350)):"snackbar"===t.options.preset?(void 0===t.options.class&&(t.options.class="black"),void 0===t.options.content_class&&(t.options.content_class="snackbar"),void 0===t.options.position&&(t.options.position="bottom"),void 0===t.options.edge_padding_y&&(t.options.edge_padding_y=0),void 0===t.options.window_min_width&&(t.options.window_min_width="600px"),void 0===t.options.window_x&&(t.options.window_x="none"),void 0===t.options.enable_overlay&&(t.options.enable_overlay=!1),void 0===t.options.autoclose&&(t.options.autoclose=!0),void 0===t.options.autoclose_delay&&(t.options.autoclose_delay=1e4),void 0===t.options.close_on_show&&(t.options.close_on_show=!0),void 0===t.options.show_effect&&(t.options.show_effect="slide_up"),void 0===t.options.show_effect_duration&&(t.options.show_effect_duration=350),void 0===t.options.close_effect&&(t.options.close_effect="slide_down"),void 0===t.options.close_effect_duration&&(t.options.close_effect_duration=350),void 0===t.options.sideStack&&(t.options.sideStack="none"),void 0===t.options.zStack_level&&(t.options.zStack_level=1),void 0===t.options.lock&&(t.options.lock=!1)):"window"===t.options.preset&&(void 0===t.options.window_height&&(t.options.window_height="100vh"),void 0===t.options.window_min_height&&(t.options.window_min_height="100vh"),void 0===t.options.window_max_height&&(t.options.window_max_height="100vh"),void 0===t.options.window_width&&(t.options.window_width="100vw"),void 0===t.options.window_min_width&&(t.options.window_min_width="100vw"),void 0===t.options.window_max_width&&(t.options.window_max_width="100vw"),void 0===t.options.disable_transformations&&(t.options.disable_transformations=!0),void 0===t.options.disable_content_padding&&(t.options.disable_content_padding=!0),void 0===t.options.full_content&&(t.options.full_content=!0),void 0===t.options.window_x&&(t.options.window_x="none"))),void 0===t.options.id&&(t.options.id=Msg.instances.length+1),void 0===t.options.class&&(t.options.class="default"),void 0===t.options.lock&&(t.options.lock=!0),void 0===t.options.closeable&&(t.options.closeable=!0),void 0===t.options.enable_overlay&&(t.options.enable_overlay=!0),void 0===t.options.close_on_overlay_click&&(t.options.close_on_overlay_click=!0),void 0===t.options.enable_titlebar&&(t.options.enable_titlebar=!1),void 0===t.options.center_titlebar&&(t.options.center_titlebar=!1),void 0===t.options.window_x&&(t.options.window_x="inner_right"),void 0===t.options.overlay_x&&(t.options.overlay_x="none"),void 0===t.options.close_on_escape&&(t.options.close_on_escape=!0),void 0===t.options.clear_editables&&(t.options.clear_editables=!1),void 0===t.options.before_show&&(t.options.before_show=function(){}),void 0===t.options.after_show&&(t.options.after_show=function(){}),void 0===t.options.before_set&&(t.options.before_set=function(){}),void 0===t.options.after_set&&(t.options.after_set=function(){}),void 0===t.options.before_set_title&&(t.options.before_set_title=function(){}),void 0===t.options.after_set_title&&(t.options.after_set_title=function(){}),void 0===t.options.before_set_progress&&(t.options.before_set_progress=function(){}),void 0===t.options.after_set_progress&&(t.options.after_set_progress=function(){}),void 0===t.options.before_close&&(t.options.before_close=function(){}),void 0===t.options.after_close&&(t.options.after_close=function(){}),void 0===t.options.after_last_closed&&(t.options.after_last_closed=function(){}),void 0===t.options.before_toggle&&(t.options.before_toggle=function(){}),void 0===t.options.after_toggle&&(t.options.after_toggle=function(){}),void 0===t.options.before_create&&(t.options.before_create=function(){}),void 0===t.options.after_create&&(t.options.after_create=function(){}),void 0===t.options.before_destroy&&(t.options.before_destroy=function(){}),void 0===t.options.after_destroy&&(t.options.after_destroy=function(){}),void 0===t.options.while_open&&(t.options.while_open=function(){}),void 0===t.options.on_click&&(t.options.on_click=function(){}),void 0===t.options.while_open_interval?t.options.while_open_interval=1e3:t.options.while_open_interval=parseInt(t.options.while_open_interval),void 0===t.options.temp_disable_close&&(t.options.temp_disable_close=!1),void 0===t.options.temp_disable_close_delay?t.options.temp_disable_close_delay=1e3:t.options.temp_disable_close_delay=parseInt(t.options.temp_disable_close_delay),void 0===t.options.autoclose&&(t.options.autoclose=!1),void 0===t.options.autoclose_delay?t.options.autoclose_delay=5e3:t.options.autoclose_delay=parseInt(t.options.autoclose_delay),void 0===t.options.temp_disable_click&&(t.options.temp_disable_click=!1),void 0===t.options.temp_disable_click_delay?t.options.temp_disable_click_delay=1e3:t.options.temp_disable_click_delay=parseInt(t.options.temp_disable_click_delay),void 0===t.options.temp_disable_keys&&(t.options.temp_disable_keys=!1),void 0===t.options.temp_disable_keys_delay?t.options.temp_disable_keys_delay=1e3:t.options.temp_disable_keys_delay=parseInt(t.options.temp_disable_keys_delay),void 0===t.options.persistent&&(t.options.persistent=!0),void 0===t.options.remove_after_close&&(t.options.remove_after_close=!1),void 0===t.options.show_effect&&(t.options.show_effect="fade"),void 0===t.options.show_effect_duration&&(t.options.show_effect_duration=[200,200]),void 0===t.options.close_effect&&(t.options.close_effect="fade"),void 0===t.options.close_effect_duration&&(t.options.close_effect_duration=[200,200]),void 0===t.options.position&&(t.options.position="center"),void 0===t.options.enable_progressbar&&(t.options.enable_progressbar=!1),void 0===t.options.bind_progressbar_to_autoclose&&(t.options.bind_progressbar_to_autoclose=!0),void 0===t.options.reverse_autoclose_progressbar&&(t.options.reverse_autoclose_progressbar=!1),void 0===t.options.edge_padding_x?t.options.edge_padding_x=20:t.options.edge_padding_x=parseInt(t.options.edge_padding_x),void 0===t.options.edge_padding_y?t.options.edge_padding_y=20:t.options.edge_padding_y=parseInt(t.options.edge_padding_y),void 0===t.options.sideStack_padding&&(t.options.sideStack_padding=20),void 0===t.options.sideStack_padding?t.options.sideStack_padding=20:t.options.sideStack_padding=parseInt(t.options.sideStack_padding),void 0===t.options.sideStack&&(t.options.sideStack="vertical"),void 0===t.options.sideStack_collapse&&(t.options.sideStack_collapse=!0),void 0===t.options.zStack_level?t.options.zStack_level=2:t.options.zStack_level=parseInt(t.options.zStack_level),void 0===t.options.show_delay?t.options.show_delay=0:t.options.show_delay=parseInt(t.options.show_delay),void 0===t.options.close_delay?t.options.close_delay=0:t.options.close_delay=parseInt(t.options.close_delay),void 0===t.options.window_width&&(t.options.window_width="auto"),void 0===t.options.window_height&&(t.options.window_height="auto"),void 0===t.options.window_min_width&&(t.options.window_min_width="auto"),void 0===t.options.window_min_height&&(t.options.window_min_height="auto"),void 0===t.options.window_max_width&&(t.options.window_max_width="80vw"),void 0===t.options.window_max_height&&(t.options.window_max_height="80vh"),void 0===t.options.window_cursor&&(t.options.window_cursor="default"),void 0===t.options.window_unselectable&&(t.options.window_unselectable=!1),void 0===t.options.subsequent_show_effects&&(t.options.subsequent_show_effects=!1),void 0===t.options.replace_linebreaks&&(t.options.replace_linebreaks=!1),void 0===t.options.close_others_on_show&&(t.options.close_others_on_show=!1),void 0===t.options.scroll_on_show&&(t.options.scroll_on_show=!0),void 0===t.options.locked_element&&(t.options.locked_element="body"),void 0===t.options.disable_transformations&&(t.options.disable_transformations=!1),void 0===t.options.disable_content_padding&&(t.options.disable_content_padding=!1),void 0===t.options.full_content&&(t.options.full_content=!1)},t.check_options(),t.created=function(){return void 0!==t.container},t.close=function(o=!1){clearTimeout(t.close_delay_timeout),t.options.close_delay>0?t.close_delay_timeout=setTimeout(function(){t.do_close(o)},t.options.close_delay):t.do_close(o)},t.do_close=function(o=!1){t.closing||t.is_open()&&t.close_enabled&&t.options.closeable&&!1!==t.options.before_close(t)&&(t.closing=!0,t.clear_while_open_interval(),t.clear_effect_intervals(),"fade"===t.options.close_effect?"object"==typeof t.options.close_effect_duration?t.fade_out(function(){t.overlay_fade_out(function(){t.close_window(o)})}):void 0!==t.overlay?(t.fade_out(),t.overlay_fade_out(function(){t.close_window(o)})):(t.overlay_fade_out(),t.fade_out(function(){t.close_window(o)})):"scale"===t.options.close_effect?"object"==typeof t.options.close_effect_duration?t.scale_out(function(){t.overlay_fade_out(function(){t.close_window(o)})}):void 0!==t.overlay?(t.scale_out(),t.overlay_fade_out(function(){t.close_window(o)})):(t.overlay_fade_out(),t.scale_out(function(){t.close_window(o)})):t.options.close_effect.includes("slide")?"object"==typeof t.options.close_effect_duration?t.slide_out(function(){t.overlay_fade_out(function(){t.close_window(o)})}):void 0!==t.overlay?(t.slide_out(),t.overlay_fade_out(function(){t.close_window(o)})):(t.overlay_fade_out(),t.slide_out(function(){t.close_window(o)})):t.close_window(o))},t.close_window=function(o){if(t.container.style.display="none",void 0!==t.overlay&&(t.overlay.style.zIndex=-1e3),t.collapse_vStack(),t.collapse_hStack(),t.window.style.zIndex=-1e3,t.clear_autoclose_progressbar_interval(),t.clear_effect_intervals(),t.check_remove_overflow_hidden(),t.options.persistent||t.destroy(),t.options.after_close(t),t.closing=!1,0===t.num_open()&&t.options.after_last_closed(t),t.options.remove_after_close&&t.remove(),o)return o(t)},t.set=function(o){void 0!==o&&(t.create(),!1!==t.options.before_set(t)&&("object"==typeof o?o instanceof Element&&(t.content.innerHTML="",t.content.appendChild(o)):(o=o.toString(),t.options.replace_linebreaks&&(o=o.replace(/(\n)/g,"<br>")),t.content.innerHTML=o),t.fix_stacks(),t.options.after_set(t)))},t.set_title=function(o){void 0!==o&&(t.create(),void 0!==t.titlebar&&!1!==t.options.before_set_title(t)&&("object"==typeof o?o instanceof Element&&(t.titlebar.innerHTML="",t.titlebar.appendChild(o)):(o=o.toString(),t.options.replace_linebreaks&&(o=o.replace(/(\n)/g,"<br>")),t.titlebar.innerHTML=o),t.fix_stacks(),t.options.after_set_title(t)))},t.set_or_show=function(o,e=!1){if(t.is_highest()){if(t.set(o),e)return e()}else t.show(o,e)},t.show=function(o,e=!1){clearTimeout(t.show_delay_timeout),t.options.show_delay>0?t.show_delay_timeout=setTimeout(function(){t.do_show(o,e)},t.options.show_delay):t.do_show(o,e)},t.do_show=function(o,e=!1){if(t.options.close_on_show&&t.is_open())return t.content_for_close_on_show=o,t.callback_for_close_on_show=e,void(t.closing||t.close(function(){t.show(t.content_for_close_on_show,t.callback_for_close_on_show)}));let n,i;if(t.content_for_close_on_show=void 0,t.callback_for_close_on_show=void 0,"function"==typeof o?e=o:"object"!=typeof o||o instanceof Element?i=o:(n=o[0],i=o[1]),t.create(),!1===t.options.before_show(t))return;void 0!==i&&t.set(i),void 0!==n&&t.set_title(n),t.reset_timers(),t.closing=!1;let s=!0,a=!1;return t.is_open()||(a=!0,t.options.close_others_on_show&&t.close_all(),t.container.style.display="block",t.check_add_overflow_hidden(),t.set_default_positions(),t.reset_props(),"vertical"===t.options.sideStack?t.check_vStack():"horizontal"===t.options.sideStack&&t.check_hStack(),void 0!==t.options.while_open&&t.start_while_open_interval()),(a||t.options.subsequent_show_effects)&&(t.clear_effect_intervals(),"fade"===t.options.show_effect?(s=!1,"object"==typeof t.options.show_effect_duration?t.overlay_fade_in(function(){t.fade_in(function(){if(e)return e(t)})}):(t.overlay_fade_in(),t.fade_in(function(){if(e)return e(t)}))):"scale"===t.options.show_effect?(s=!1,"object"==typeof t.options.show_effect_duration?t.overlay_fade_in(function(){t.scale_in(function(){if(e)return e(t)})}):(t.overlay_fade_in(),t.scale_in(function(){if(e)return e(t)}))):t.options.show_effect.includes("slide")&&(s=!1,"object"==typeof t.options.show_effect_duration?t.overlay_fade_in(function(){t.slide_in(function(){if(e)return e(t)})}):(t.overlay_fade_in(),t.slide_in(function(){if(e)return e(t)})))),t.to_top(),t.options.scroll_on_show&&(t.content_container.scrollTop=0),t.options.temp_disable_close&&(t.close_enabled=!1,t.temp_disable_close_timer()),t.options.temp_disable_click&&(t.click_enabled=!1,t.temp_disable_click_timer()),t.options.temp_disable_keys&&(t.keys_enabled=!1,t.temp_disable_keys_timer()),t.options.autoclose&&(t.autoclose_timer(),t.options.enable_progressbar&&t.options.bind_progressbar_to_autoclose&&t.animate_autoclose_progressbar()),t.options.after_show(t),e&&s?e(t):void 0},t.toggle=function(){t.create(),!1!==t.options.before_toggle(t)&&(t.is_open()?t.close():t.show(),t.options.after_toggle(t))},t.create=function(){if(t.created())return;if(null!==document.getElementById(`Msg-container-${t.options.id}`))throw"Msg Error: The html elements for this id have already been created. Use a different id.";if(!1===t.options.before_create(t))return;let o={container:"\n\t\tdisplay:none;\n\t\t",overlay:"\n\t\tposition:fixed;\n\t\topacity:1;\n\t\ttop:0;\n\t\tleft:0;\n\t\theight:100%;\n\t\twidth:100%;\n\t\tz-index:-1000;\n\t\t"};o.overlay_x=`\n\t\tcursor:pointer;\n\t\tfloat:${t.options.overlay_x};\n\t\tfont-size:28px;\n\t\tfont-family:sans-serif;\n\t\t-webkit-touch-callout:none;\n\t\t-webkit-user-select:none;\n\t\t-khtml-user-select:none;\n\t\t-moz-user-select:none;\n\t\t-ms-user-select:none;\n\t\tuser-select:none;\t\n\t\tpadding-left:0.6em;\n\t\tpadding-right:0.6em;\n\t\tpadding-top:0.035em;\n\t\tpadding-bottom:0.2em;\n\t\t`;let e,n,i,s,a=t.options.position,l=t.options.edge_padding_x,r=t.options.edge_padding_y;t.options.disable_transformations?(e="left:0;",n="top:0;",i="transform:initial;",t.vStackable=!1,t.hStackable=!1):"top"===a?(e="left:50%;",n=`top:${r}px;`,i="transform:translateX(-50%);",t.vStackable=!0,t.hStackable=!1):"bottom"===a?(e="left:50%;",n=`bottom:${r}px;`,i="transform:translateX(-50%);",t.vStackable=!0,t.hStackable=!1):"left"===a?(e=`left:${l}px;`,n="top:50%;",i="transform:translateY(-50%);",t.vStackable=!1,t.hStackable=!0):"right"===a?(e=`right:${l}px;`,n="top:50%;",i="transform:translateY(-50%);",t.vStackable=!1,t.hStackable=!0):"topleft"===a?(e=`left:${l}px;`,n=`top:${r}px;`,i="",t.vStackable=!0,t.hStackable=!0):"topright"===a?(e=`right:${l}px;`,n=`top:${r}px;`,i="",t.vStackable=!0,t.hStackable=!0):"bottomleft"===a?(e=`left:${l}px;`,n=`bottom:${r}px;`,i="",t.vStackable=!0,t.hStackable=!0):"bottomright"===a?(e=`right:${l}px;`,n=`bottom:${r}px;`,i="",t.vStackable=!0,t.hStackable=!0):(e="left:50%;",n="top:50%;",i="transform:translate(-50%, -50%);",t.vStackable=!1,t.hStackable=!1),s=t.options.window_unselectable?"-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;":"",o.window=`\n\t\tdisplay:flex;\n\t\tflex-direction:column;\n\t\topacity:1;\n\t\t${e}\n\t\t${n}\n\t\tposition:fixed;\n\t\twidth:${t.options.window_width};\n\t\theight:${t.options.window_height};\n\t\tmin-width:${t.options.window_min_width};\n\t\tmin-height:${t.options.window_min_height};\n\t\tmax-width:${t.options.window_max_width};\n\t\tmax-height:${t.options.window_max_height};\n\t\t${i}\n\t\toutline:0;\n\t\t${s}\n\t\tcursor:${t.options.window_cursor};\n\t\tz-index:-1000;\n\t\t`,o.topbar="\n\t\toverflow:hidden;\n\t\tflex-shrink:0;\n\t\tdisplay:flex;\n\t\tflex-direction:row;\n\t\t";let d,c,_,p,w,f,g,u,v,h="padding-left: 0.4em;",b="padding-right: 0.4em;",y="";t.options.center_titlebar&&(y="text-align: center;"),t.options.center_titlebar&&"inner_right"===t.options.window_x&&(h="padding-left: 50.78px;",b="padding-right: 10.78px;"),t.options.center_titlebar&&"inner_left"===t.options.window_x&&(h="padding-left: 10.78px;",b="padding-right: 50.78px;"),o.titlebar=`\n\t\toverflow:hidden;\n\t\torder:2;\n\t\tflex-grow:1;\n\t\tpadding-top:0.38em;\n\t\t${h}\n\t\t${b}\n\t\t${y}\n\t\tmin-height:27px;\n\t\tfont-size: 18px;\n\t\tfont-family:sans-serif;\n\t\tfont-weight: bold;\n\t\t`,t.options.window_x.includes("left")?(d="1",c=""):(d="3",c="auto"),o.window_inner_x=`\n\t\tcursor:pointer;\n\t\tmargin-left:${c};\n\t\tfont-size:24px;\n\t\tfont-family:sans-serif;\n\t\t-webkit-touch-callout:none;\n\t\t-webkit-user-select:none;\n\t\t-khtml-user-select:none;\n\t\t-moz-user-select:none;\n\t\t-ms-user-select:none;\n\t\tuser-select:none;\n\t\toverflow:hidden;\n\t\torder:${d};\n\t\tpadding-left:0.6em;\n\t\tpadding-right:0.6em;\n\t\tpadding-top:0.035em;\n\t\tpadding-bottom:0.2em;\n\t\t`,t.options.window_x.includes("left")?(_="left:0px;",p="margin-left:-14px;"):(_="right:0px;",p="margin-right:-14px;"),o.window_floating_x=`\n\t\tcursor:pointer;\n\t\tposition:absolute;\t\n\t\ttop:0px;\n\t\t${_}\n\t\tmargin-top: -14px;\n\t\t${p}\n\t\tfont-size:19px;\t\n\t\tfont-family:sans-serif;\n\t\tborder: 2px solid #9f9f9f;\n\t\tborder-radius:28px;\n\t\theight:28px;\n\t\twidth:28px;\n\t\tline-height:25px;\n\t\ttext-align:center;\n\t\t-webkit-touch-callout:none;\n\t\t-webkit-user-select:none;\n\t\t-khtml-user-select:none;\n\t\t-moz-user-select:none;\n\t\t-ms-user-select:none;\n\t\tuser-select:none;\n\t\toverflow:hidden;\n\t\tz-index:9999999999999999;\n\t\t`,o.content_container="\n\t\toverflow-y:auto;\n\t\toverflow-x:hidden;\n\t\tborder:none;\n\t\toutline:0;\n\t\tmargin:0;\n\t\tflex-grow:1;\n\t\t",w=t.options.enable_titlebar||t.options.window_x.includes("inner")?t.options.enable_titlebar?"1.2em":"0.2em":"1.6em",f=t.options.enable_progressbar?"1.34em":"1.6em",g=t.options.disable_content_padding?"padding:0;":"",t.options.full_content?(u="width:100vw;",v="height:100vh;"):(u="",v=""),o.content=`\n\t\tfont-size:18px;\n\t\ttext-align:center;\n\t\toverflow-wrap: break-word;\n\t\tpadding-top:${w};\n\t\tpadding-bottom:${f};\n\t\tpadding-left:1.6em;\n\t\tpadding-right:1.6em;\n\t\t${g}\n\t\t${u}\n\t\t${v}\n\t\t`,o.progressbar_container="\n\t\theight:11px;\n\t\twidth:100%;\n\t\t",o.progressbar="\n\t\theight:100%;\n\t\twidth:0%;\n\t\t";let m=void 0!==t.options.container_class?t.options.container_class:t.options.class,k=void 0!==t.options.overlay_class?t.options.overlay_class:t.options.class,x=void 0!==t.options.overlay_x_class?t.options.overlay_x_class:t.options.class,M=void 0!==t.options.window_class?t.options.window_class:t.options.class,$=void 0!==t.options.topbar_class?t.options.topbar_class:t.options.class,I=void 0!==t.options.titlebar_class?t.options.titlebar_class:t.options.class,S=void 0!==t.options.window_inner_x_class?t.options.window_inner_x_class:t.options.class,H=void 0!==t.options.window_floating_x_class?t.options.window_floating_x_class:t.options.class,L=void 0!==t.options.content_container_class?t.options.content_container_class:t.options.class,z=void 0!==t.options.content_class?t.options.content_class:t.options.class,W=void 0!==t.options.progressbar_container_class?t.options.progressbar_container_class:t.options.class,j=void 0!==t.options.progressbar_class?t.options.progressbar_class:t.options.class;m=m.split(/\s+/).map(o=>o.startsWith("!")?o.substring(1):`Msg-container-${o}`).join(" "),k=k.split(/\s+/).map(o=>o.startsWith("!")?o.substring(1):`Msg-overlay-${o}`).join(" "),x=x.split(/\s+/).map(o=>o.startsWith("!")?o.substring(1):`Msg-overlay-x-${o}`).join(" "),M=M.split(/\s+/).map(o=>o.startsWith("!")?o.substring(1):`Msg-window-${o}`).join(" "),$=$.split(/\s+/).map(o=>o.startsWith("!")?o.substring(1):`Msg-topbar-${o}`).join(" "),I=I.split(/\s+/).map(o=>o.startsWith("!")?o.substring(1):`Msg-titlebar-${o}`).join(" "),S=S.split(/\s+/).map(o=>o.startsWith("!")?o.substring(1):`Msg-window-inner-x-${o}`).join(" "),H=H.split(/\s+/).map(o=>o.startsWith("!")?o.substring(1):`Msg-window-floating-x-${o}`).join(" "),L=L.split(/\s+/).map(o=>o.startsWith("!")?o.substring(1):`Msg-content-container-${o}`).join(" "),z=z.split(/\s+/).map(o=>o.startsWith("!")?o.substring(1):`Msg-content-${o}`).join(" "),W=W.split(/\s+/).map(o=>o.startsWith("!")?o.substring(1):`Msg-progressbar-container-${o}`).join(" "),j=j.split(/\s+/).map(o=>o.startsWith("!")?o.substring(1):`Msg-progressbar-${o}`).join(" ");let T=`<div class="Msg-container ${m}" style="${o.container}" id="Msg-container-${t.options.id}"></div>`,E=`<div class="Msg-overlay ${k}" style="${o.overlay}" id="Msg-overlay-${t.options.id}"></div>`,A=`<div class="Msg-overlay-x ${x}" style="${o.overlay_x}" id="Msg-overlay-x-${t.options.id}">x</div>`,B=`<div class="Msg-window ${M}" style="${o.window}" id="Msg-window-${t.options.id}"></div>`,C=`<div class="Msg-topbar ${$}" style="${o.topbar}" id="Msg-topbar-${t.options.id}"></div>`,q=`<div class="Msg-titlebar ${I}" style="${o.titlebar}" id="Msg-titlebar-${t.options.id}"></div>`,N=`<div class="Msg-window-inner-x ${S}" style="${o.window_inner_x}" id="Msg-window-inner-x-${t.options.id}">x</div>`,P=`<div class="Msg-window-floating-x ${H}" style="${o.window_floating_x}" id="Msg-window-floating-x-${t.options.id}">x</div>`,X=`<div class="Msg-content-container ${L}" style="${o.content_container}" id="Msg-content-container-${t.options.id}"></div>`,Y=`<div class="Msg-content ${z}" style="${o.content}" id="Msg-content-${t.options.id}"></div>`,D=`<div class="Msg-progressbar-container ${W}" style="${o.progressbar_container}" id="Msg-progressbar-container-${t.options.id}"></div>`,F=`<div class="Msg-progressbar ${j}" style="${o.progressbar}" id="Msg-progressbar-${t.options.id}"></div>`;document.body.insertAdjacentHTML("beforeend",T),t.container=document.getElementById(`Msg-container-${t.options.id}`),t.options.enable_overlay&&(t.container.insertAdjacentHTML("beforeend",E),t.overlay=document.getElementById(`Msg-overlay-${t.options.id}`),"none"!==t.options.overlay_x&&(t.overlay.insertAdjacentHTML("beforeend",A),t.overlay_x=document.getElementById(`Msg-overlay-x-${t.options.id}`))),t.container.insertAdjacentHTML("beforeend",B),t.window=document.getElementById(`Msg-window-${t.options.id}`),(t.options.enable_titlebar||t.options.window_x.includes("inner"))&&(t.window.insertAdjacentHTML("beforeend",C),t.topbar=document.getElementById(`Msg-topbar-${t.options.id}`),t.options.enable_titlebar&&(t.topbar.insertAdjacentHTML("beforeend",q),t.titlebar=document.getElementById(`Msg-titlebar-${t.options.id}`)),t.options.window_x.includes("inner")&&(t.topbar.insertAdjacentHTML("beforeend",N),t.window_inner_x=document.getElementById(`Msg-window-inner-x-${t.options.id}`))),t.options.window_x.includes("floating")&&(t.window.insertAdjacentHTML("afterbegin",P),t.window_floating_x=document.getElementById(`Msg-window-floating-x-${t.options.id}`)),t.window.insertAdjacentHTML("beforeend",X),t.content_container=document.getElementById(`Msg-content-container-${t.options.id}`),t.content_container.insertAdjacentHTML("beforeend",Y),t.content=document.getElementById(`Msg-content-${t.options.id}`),t.options.enable_progressbar&&(t.window.insertAdjacentHTML("beforeend",D),t.progressbar_container=document.getElementById(`Msg-progressbar-container-${t.options.id}`),t.progressbar_container.insertAdjacentHTML("beforeend",F),t.progressbar=document.getElementById(`Msg-progressbar-${t.options.id}`)),void 0!==t.overlay&&t.overlay.addEventListener("click",function(){t.options.close_on_overlay_click&&t.close()}),t.window.addEventListener("click",function(o){(o.target===t.content||o.target===t.topbar||o.target===t.titlebar||o.target===t.progressbar||t.content.contains(o.target)||t.topbar.contains(o.target)||t.titlebar.contains(o.target)||t.progressbar.contains(o.target))&&""===document.getSelection().toString()&&t.options.on_click(t)}),t.content.addEventListener("mousedown",function(o){if(!t.click_enabled){let o=function(t){t.stopPropagation(),this.removeEventListener("click",o,!0)};t.window.addEventListener("click",o,!0)}}),void 0!==t.window_inner_x&&t.window_inner_x.addEventListener("click",function(o){t.close(),o.stopPropagation()}),void 0!==t.window_floating_x&&t.window_floating_x.addEventListener("click",function(o){t.close(),o.stopPropagation()}),void 0!==t.overlay_x&&t.overlay_x.addEventListener("click",function(o){t.close(),o.stopPropagation()}),t.options.after_create(t)},t.recreate=function(){t.destroy(),t.create()},t.destroy=function(){if(t.created()){if(!1===t.options.before_destroy(t))return;t.check_remove_overflow_hidden(),t.container.parentNode.removeChild(t.container),t.container=void 0,t.overlay=void 0,t.overlay_x=void 0,t.window=void 0,t.topbar=void 0,t.titlebar=void 0,t.window_inner_x=void 0,t.window_floating_x=void 0,t.content_container=void 0,t.content=void 0,t.progressbar_container=void 0,t.progressbar=void 0,t.options.after_destroy(t)}},t.is_open=function(){return!(!t.created()||"none"===t.container.style.display)},t.any_open=function(){for(let o of Msg.instances)if(o.is_open())return!0;return!1},t.any_higher_open=function(){for(let o of Msg.instances)if(2===o.options.zStack_level&&o.is_open())return!0;return!1},t.any_lower_open=function(){for(let o of Msg.instances)if(1===o.options.zStack_level&&o.is_open())return!0;return!1},t.num_open=function(){let o=0;for(let t of Msg.instances)t.is_open()&&(o+=1);return o},t.num_open_higher=function(){let o=0;for(let t of Msg.instances)t.is_open()&&2===t.options.zStack_level&&(o+=1);return o},t.num_open_lower=function(){let o=0;for(let t of Msg.instances)t.is_open()&&1===t.options.zStack_level&&(o+=1);return o},t.show_all=function(){for(let o=0;o<Msg.instances.length;o++)Msg.instances[o].show()},t.close_all=function(o=!1){if(!t.any_open())return!!o&&o();for(let e=0;e<Msg.instances.length;e++)o?Msg.instances[e].close(function(){if(!t.any_open())return o()}):Msg.instances[e].close()},t.close_all_higher=function(o=!1){if(!t.any_higher_open())return!!o&&o();for(let e of t.higher_instances())o?e.close(function(){if(!t.any_higher_open())return o()}):e.close()},t.close_all_lower=function(o=!1){if(!t.any_lower_open())return!!o&&o();for(let e of t.lower_instances())o?e.close(function(){if(!t.any_lower_open())return o()}):e.close()},t.create_all=function(){for(let o=0;o<Msg.instances.length;o++)Msg.instances[o].create()},t.recreate_all=function(){for(let o=0;o<Msg.instances.length;o++)Msg.instances[o].recreate()},t.destroy_all=function(){for(let o=0;o<Msg.instances.length;o++)Msg.instances[o].destroy()},t.common_zIndex=function(o){let t;return t=(o=parseInt(o))>0?parseInt(o.toString().substring(1)):-2e3},t.highest_zIndex=function(){let o=-2e3,t=Array.from(document.querySelectorAll(".Msg-window"));for(let e=0;e<t.length;e++){let n=parseInt(t[e].style.zIndex);n>o&&(o=n)}return parseInt(o)},t.highest_instance=function(){let o=t.highest_zIndex();if(o<0)return!1;for(let t of Msg.instances)if(void 0!==t.window&&parseInt(t.window.style.zIndex)===o)return t;return!1},t.highest_common_zIndex=function(){let o=-2e3,e=Array.from(document.querySelectorAll(".Msg-window"));for(let n=0;n<e.length;n++){let i=t.common_zIndex(e[n].style.zIndex);i>o&&(o=i)}return o},t.is_highest=function(){if(t.is_open()){let o=t.highest_zIndex();if(parseInt(t.window.style.zIndex)===o)return!0}return!1},t.html=function(){return t.created()?t.content.innerHTML:""},t.title_html=function(){return void 0!==t.titlebar?t.titlebar.innerHTML:""},t.check_add_overflow_hidden=function(){t.options.lock&&document.querySelector(t.options.locked_element).classList.add("Msg-overflow-hidden")},t.check_remove_overflow_hidden=function(){for(let o of Msg.instances)if(o.is_open()&&o.options.lock)return;document.querySelector(t.options.locked_element).classList.remove("Msg-overflow-hidden")},t.to_top=function(){if(t.is_open()){let o,e=parseInt(t.window.style.zIndex),n=t.highest_common_zIndex();(o=1===t.options.zStack_level?Math.max(5e6,5e6+n):Math.max(5e7,5e7+n))>e&&(void 0!==t.overlay&&(t.overlay.style.zIndex=o+1),t.window.style.zIndex=o+2)}},t.instances=function(){return Msg.instances},t.higher_instances=function(){let o=[];for(let t of Msg.instances)2===t.options.zStack_level&&o.push(t);return o},t.lower_instances=function(){let o=[];for(let t of Msg.instances)1===t.options.zStack_level&&o.push(t);return o},t.get_instance_by_id=function(o){for(let t of Msg.instances)if(t.options.id==o)return t},t.temp_disable_close_timer=function(){t.temp_disable_close_timeout=setTimeout(function(){t.close_enabled=!0},t.options.temp_disable_close_delay)},t.temp_disable_click_timer=function(){t.temp_disable_click_timeout=setTimeout(function(){t.click_enabled=!0},t.options.temp_disable_click_delay)},t.temp_disable_keys_timer=function(){t.temp_disable_keys_timeout=setTimeout(function(){t.keys_enabled=!0},t.options.temp_disable_keys_delay)},t.autoclose_timer=function(){t.autoclose_timeout=setTimeout(function(){t.close()},t.options.autoclose_delay)},t.reset_timers=function(){clearTimeout(t.temp_disable_close_timeout),clearTimeout(t.temp_disable_click_timeout),clearTimeout(t.temp_disable_keys_timeout),clearTimeout(t.autoclose_timeout),t.close_enabled=!0,t.click_enabled=!0,t.keys_enabled=!0},t.clear_autoclose_progressbar_interval=function(){clearInterval(t.progressbar_animation)},t.animate_autoclose_progressbar=function(){if(t.clear_autoclose_progressbar_interval(),t.options.reverse_autoclose_progressbar){let o=0;t.progressbar.style.width="0%",t.progressbar_animation=setInterval(function(){t.created()||clearInterval(t.progressbar_animation),o+=1,t.set_progress(o),o>=100&&clearInterval(t.progressbar_animation)},t.options.autoclose_delay/100)}else{let o=100;t.progressbar.style.width="100%",t.progressbar_animation=setInterval(function(){t.created()||clearInterval(t.progressbar_animation),o-=1,t.set_progress(o),o<=0&&clearInterval(t.progressbar_animation)},t.options.autoclose_delay/100)}},t.set_progress=function(o){void 0!==o&&(t.create(),void 0!==t.progressbar&&!1!==t.options.before_set_progress(t)&&(o>100&&(o=100),o<0&&(o=0),t.progressbar.style.width=`${o}%`,t.options.after_set_progress(t)))},t.get_progress=function(){if(void 0!==t.progressbar)return Math.round(t.progressbar.offsetWidth/t.window.offsetWidth*100)},t.clear_effect_intervals=function(){clearInterval(t.overlay_fade_in_interval),clearInterval(t.overlay_fade_out_interval),clearInterval(t.fade_in_interval),clearInterval(t.fade_out_interval),clearInterval(t.scale_in_interval),clearInterval(t.scale_out_interval),clearInterval(t.slide_in_interval),clearInterval(t.slide_out_interval),t.slide_in_ongoing=!1,t.slide_in_direction=void 0},t.reset_props=function(){void 0!==t.overlay&&(t.overlay.style.opacity=1),t.window.style.opacity=1,t.window.style.zoom=1},t.resolve_effect_duration=function(o,t){return"object"==typeof t?t[o]:t},t.overlay_fade_in=function(o){let e=t.resolve_effect_duration(0,t.options.show_effect_duration)/20;if(void 0===t.overlay||0===e)return void 0!==t.overlay&&(t.overlay.style.opacity=1),o?o():void 0;t.overlay.style.opacity=0,t.window.style.opacity=0;let n=0;t.overlay_fade_in_interval=setInterval(function(){if(t.created())return n+=.05,t.overlay.style.opacity=n,n>=1&&(clearInterval(t.overlay_fade_in_interval),o)?o():void 0;t.clear_effect_intervals()},e)},t.overlay_fade_out=function(o){let e=t.resolve_effect_duration(1,t.options.close_effect_duration)/20;if(void 0===t.overlay||0===e||0==t.overlay.style.opacity)return void 0!==t.overlay&&(t.overlay.style.opacity=0),o?o():void 0;let n=Number(t.overlay.style.opacity);t.overlay_fade_out_interval=setInterval(function(){if(t.created())return n-=.05,t.overlay.style.opacity=n,n<=0&&(clearInterval(t.overlay_fade_out_interval),o)?o():void 0;t.clear_effect_intervals()},e)},t.fade_in=function(o){let e=t.resolve_effect_duration(1,t.options.show_effect_duration)/20;if(0===e)return t.window.style.opacity=1,o?o():void 0;t.window.style.opacity=0;let n=0;t.fade_in_interval=setInterval(function(){if(t.created())return n+=.05,t.window.style.opacity=n,n>=1&&(clearInterval(t.fade_in_interval),o)?o():void 0;t.clear_effect_intervals()},e)},t.fade_out=function(o){let e=t.resolve_effect_duration(0,t.options.close_effect_duration)/20;if(0===e||0==t.window.style.opacity)return t.window.style.opacity=0,o?o():void 0;let n=Number(t.window.style.opacity);t.fade_out_interval=setInterval(function(){if(t.created())return n-=.05,t.window.style.opacity=n,n<=0&&(clearInterval(t.fade_out_interval),o)?o():void 0;t.clear_effect_intervals()},e)},t.scale_in=function(o){let e=t.resolve_effect_duration(1,t.options.show_effect_duration)/25;if(0===e)return t.window.style.opacity=1,o?o():void 0;let n=.5,i=t.window.style.transform.split(")"),s="";for(let o of i)""===(o=o.trim())||o.includes("scale")||(s+=`${o}) `);s=s.trim(),t.window.style.transform=s+` scale(${n})`,t.window.style.opacity=0;let a=0;t.scale_in_interval=setInterval(function(){if(t.created())return n+=.02,t.window.style.transform=s+` scale(${n})`,a+=.04,t.window.style.opacity=a,n>=1&&(clearInterval(t.scale_in_interval),o)?o():void 0;t.clear_effect_intervals()},e)},t.scale_out=function(o){let e=t.resolve_effect_duration(0,t.options.close_effect_duration)/25;if(0===e||0==t.window.style.opacity)return t.window.style.opacity=0,o?o():void 0;let n=1,i=t.window.style.transform.split(")"),s="";for(let o of i)""===(o=o.trim())||o.includes("scale")||(s+=`${o}) `);let a=Number(t.window.style.opacity);s=s.trim(),t.window.style.transform=s+` scale(${n})`,t.scale_out_interval=setInterval(function(){if(t.created())return n-=.02,t.window.style.transform=s+` scale(${n})`,a-=.04,t.window.style.opacity=a,n<=.5&&(clearInterval(t.scale_out_interval),o)?o():void 0;t.clear_effect_intervals()},e)},t.slide_in=function(o){let e=t.resolve_effect_duration(1,t.options.show_effect_duration);if(t.window.style.opacity=1,0===e)return o?o():void 0;let n=t.options.show_effect.split("_")[1];t.slide_in_ongoing=!0,t.slide_direction=n;let i=t.options.position,s=!1,a=!1,l=!1;function r(){if(clearInterval(t.slide_in_interval),t.slide_in_ongoing=!1,t.slide_in_direction=void 0,t.window.style[s]=t[a]+"px",o)return o()}"bottom"===i?"up"===n?(a=`stack_pos_${s="bottom"}`,t.window.style.bottom=0-t.window.offsetHeight+"px",l=(t.window.offsetHeight+t[a])/e*10):"down"===n&&(a=`stack_pos_${s="bottom"}`,t.window.style.bottom=window.innerHeight+"px",l=(parseInt(t.window.style.bottom)-t[a])/e*10):"top"===i?"up"===n?(a=`stack_pos_${s="top"}`,t.window.style.top=window.innerHeight+"px",l=(parseInt(t.window.style.top)-t[a])/e*10):"down"===n&&(a=`stack_pos_${s="top"}`,t.window.style.top=0-t.window.offsetHeight+"px",l=(t.window.offsetHeight+t[a])/e*10):i.includes("right")?("up"!==n&&"down"!==n||("topright"===i?"up"===n?(a=`stack_pos_${s="top"}`,t.window.style.top=window.innerHeight+"px",l=(parseInt(t.window.style.top)-t[a])/e*10):"down"===n&&(a=`stack_pos_${s="top"}`,t.window.style.top=0-t.window.offsetHeight+"px",l=(t.window.offsetHeight+t[a])/e*10):"bottomright"===i&&("up"===n?(a=`stack_pos_${s="bottom"}`,t.window.style.bottom=0-t.window.offsetHeight+"px",l=(t.window.offsetHeight+t[a])/e*10):"down"===n&&(a=`stack_pos_${s="bottom"}`,t.window.style.bottom=window.innerHeight+"px",l=(parseInt(t.window.style.bottom)-t[a])/e*10))),"left"===n?(a=`stack_pos_${s="right"}`,t.window.style.right=0-t.window.offsetWidth+"px",l=(t.window.offsetWidth+t[a])/e*10):"right"===n&&(a=`stack_pos_${s="right"}`,t.window.style.right=window.innerWidth+"px",l=(parseInt(t.window.style.right)-t[a])/e*10)):i.includes("left")&&("up"===n||"down"===n?"topleft"===i?"up"===n?(a=`stack_pos_${s="top"}`,t.window.style.top=window.innerHeight+"px",l=(parseInt(t.window.style.top)-t[a])/e*10):"down"===n&&(a=`stack_pos_${s="top"}`,t.window.style.top=0-t.window.offsetHeight+"px",l=(t.window.offsetHeight+t[a])/e*10):"bottomleft"===i&&("up"===n?(a=`stack_pos_${s="bottom"}`,t.window.style.bottom=0-t.window.offsetHeight+"px",l=(t.window.offsetHeight+t[a])/e*10):"down"===n&&(a=`stack_pos_${s="bottom"}`,t.window.style.bottom=window.innerHeight+"px",l=(parseInt(t.window.style.bottom)-t[a])/e*10)):"left"===n?(a=`stack_pos_${s="left"}`,t.window.style.left=window.innerWidth+"px",l=(parseInt(t.window.style.left)-t[a])/e*10):"right"===n&&(a=`stack_pos_${s="left"}`,t.window.style.left=0-t.window.offsetWidth+"px",l=(t.window.offsetWidth+t[a])/e*10)),s?(l=Math.max(1,l),t.slide_in_interval=setInterval(function(){t.created()?("top"===s&&("up"===n&&(t.window.style[s]=parseInt(t.window.style[s])-l+"px",parseInt(t.window.style[s])<=t[a]&&r()),"down"===n&&(t.window.style[s]=parseInt(t.window.style[s])+l+"px",parseInt(t.window.style[s])>=t[a]&&r())),"bottom"===s&&("up"===n&&(t.window.style[s]=parseInt(t.window.style[s])+l+"px",parseInt(t.window.style[s])>=t[a]&&r()),"down"===n&&(t.window.style[s]=parseInt(t.window.style[s])-l+"px",parseInt(t.window.style[s])<=t[a]&&r())),"left"===s&&("left"===n&&(t.window.style[s]=parseInt(t.window.style[s])-l+"px",parseInt(t.window.style[s])<=t[a]&&r()),"right"===n&&(t.window.style[s]=parseInt(t.window.style[s])+l+"px",parseInt(t.window.style[s])>=t[a]&&r())),"right"===s&&("left"===n&&(t.window.style[s]=parseInt(t.window.style[s])+l+"px",parseInt(t.window.style[s])>=t[a]&&r()),"right"===n&&(t.window.style[s]=parseInt(t.window.style[s])-l+"px",parseInt(t.window.style[s])<=t[a]&&r()))):t.clear_effect_intervals()},10)):r()},t.slide_out=function(o){let e=t.resolve_effect_duration(0,t.options.close_effect_duration);if(0===e||0==t.window.style.opacity)return t.window.style.opacity=0,o?o():void 0;let n=t.options.close_effect.split("_")[1],i=t.options.position,s=!1,a=!1,l=!1;function r(){if(clearInterval(t.slide_out_interval),t.window.style[s]=l-20+"px",o)return o()}"bottom"===i?"up"===n?(a=(window.innerHeight-parseInt(t.window.style.bottom))/e*10,l=window.innerHeight+t.window.offsetHeight,s="bottom"):"down"===n&&(a=(parseInt(t.window.style.bottom)+t.window.offsetHeight)/e*10,l=0-t.window.offsetHeight,s="bottom"):"top"===i?"up"===n?(a=(parseInt(t.window.style.top)+t.window.offsetHeight)/e*10,l=0-t.window.offsetHeight,s="top"):"down"===n&&(a=(window.innerHeight-parseInt(t.window.style.top))/e*10,l=window.innerHeight+t.window.offsetHeight,s="top"):i.includes("right")?("up"!==n&&"down"!==n||("topright"===i?"up"===n?(a=(parseInt(t.window.style.top)+t.window.offsetHeight)/e*10,l=0-t.window.offsetHeight,s="top"):"down"===n&&(a=(window.innerHeight-parseInt(t.window.style.top))/e*10,l=window.innerHeight+t.window.offsetHeight,s="top"):"bottomright"===i&&("up"===n?(a=(window.innerHeight-parseInt(t.window.style.bottom))/e*10,l=window.innerHeight+t.window.offsetHeight,s="bottom"):"down"===n&&(a=(parseInt(t.window.style.bottom)+t.window.offsetHeight)/e*10,l=0-t.window.offsetHeight,s="bottom"))),"left"===n?(a=(window.innerWidth-parseInt(t.window.style.right))/e*10,l=window.innerWidth+t.window.offsetWidth,s="right"):"right"===n&&(a=(parseInt(t.window.style.right)+t.window.offsetWidth)/e*10,l=0-t.window.offsetWidth,s="right")):i.includes("left")&&("up"===n||"down"===n?"topleft"===i?"up"===n?(a=(parseInt(t.window.style.top)+t.window.offsetHeight)/e*10,l=0-t.window.offsetHeight,s="top"):"down"===n&&(a=(window.innerHeight-parseInt(t.window.style.top))/e*10,l=window.innerHeight+t.window.offsetHeight,s="top"):"bottomleft"===i&&("up"===n?(a=(window.innerHeight-parseInt(t.window.style.bottom))/e*10,l=window.innerHeight+t.window.offsetHeight,s="bottom"):"down"===n&&(a=(parseInt(t.window.style.bottom)+t.window.offsetHeight)/e*10,l=0-t.window.offsetHeight,s="bottom")):"left"===n?(a=(parseInt(t.window.style.left)+t.window.offsetWidth)/e*10,l=0-t.window.offsetWidth,s="left"):"right"===n&&(a=(window.innerWidth-parseInt(t.window.style.left))/e*10,l=window.innerWidth+t.window.offsetWidth,s="left")),s?(a=Math.max(1,a),t.slide_out_interval=setInterval(function(){t.created()?("top"===s&&("up"===n&&(t.window.style[s]=parseInt(t.window.style[s])-a+"px",parseInt(t.window.style[s])<=l&&r()),"down"===n&&(t.window.style[s]=parseInt(t.window.style[s])+a+"px",parseInt(t.window.style[s])>=l&&r())),"bottom"===s&&("up"===n&&(t.window.style[s]=parseInt(t.window.style[s])+a+"px",parseInt(t.window.style[s])>=l&&r()),"down"===n&&(t.window.style[s]=parseInt(t.window.style[s])-a+"px",parseInt(t.window.style[s])<=l&&r())),"left"===s&&("left"===n&&(t.window.style[s]=parseInt(t.window.style[s])-a+"px",parseInt(t.window.style[s])<=l&&r()),"right"===n&&(t.window.style[s]=parseInt(t.window.style[s])+a+"px",parseInt(t.window.style[s])>=l&&r())),"right"===s&&("left"===n&&(t.window.style[s]=parseInt(t.window.style[s])+a+"px",parseInt(t.window.style[s])>=l&&r()),"right"===n&&(t.window.style[s]=parseInt(t.window.style[s])-a+"px",parseInt(t.window.style[s])<=l&&r()))):t.clear_effect_intervals()},10)):r()},t.start_while_open_interval=function(){t.clear_while_open_interval(),t.while_open_interval=setInterval(function(){t.options.while_open(t)},t.options.while_open_interval)},t.clear_while_open_interval=function(){clearInterval(t.while_open_interval)},t.stack_pos_top_sort=function(o,t){return o.stack_pos_top-t.stack_pos_top},t.stack_pos_top_sort2=function(o,t){return t.stack_pos_top-o.stack_pos_top},t.stack_pos_bottom_sort=function(o,t){return o.stack_pos_bottom-t.stack_pos_bottom},t.stack_pos_bottom_sort2=function(o,t){return t.stack_pos_bottom-o.stack_pos_bottom},t.stack_pos_left_sort=function(o,t){return o.stack_pos_left-t.stack_pos_left},t.stack_pos_left_sort2=function(o,t){return t.stack_pos_left-o.stack_pos_left},t.stack_pos_right_sort=function(o,t){return o.stack_pos_right-t.stack_pos_right},t.stack_pos_right_sort2=function(o,t){return t.stack_pos_right-o.stack_pos_right},t.highest_in_position=function(o){let e,n=-2e3,i=t.options.position;for(let t of Msg.instances)if(t.is_open()&&t.options.position===i){let s;"vertical"===o?i.includes("top")?s=t.stack_pos_top:i.includes("bottom")&&(s=t.stack_pos_bottom):"horizontal"===o&&(i.includes("left")?s=t.stack_pos_left:i.includes("right")&&(s=t.stack_pos_right)),void 0!==s&&s>n&&(n=s,e=t)}return e},t.lowest_in_position=function(o){let e,n=2e8,i=t.options.position;for(let t of Msg.instances)if(t.is_open()&&t.options.position===i){let s;"vertical"===o?i.includes("top")?s=t.stack_pos_top:i.includes("bottom")&&(s=t.stack_pos_bottom):"horizontal"===o&&(i.includes("left")?s=t.stack_pos_left:i.includes("right")&&(s=t.stack_pos_right)),void 0!==s&&s<n&&(n=s,e=t)}return e},t.above_in_position=function(o,e){let n=[],i=o.options.position;for(let t of Msg.instances)t.is_open()&&t.options.position===i&&("vertical"===e?i.includes("top")?t.stack_pos_top>o.stack_pos_top&&n.push(t):i.includes("bottom")&&t.stack_pos_bottom>o.stack_pos_bottom&&n.push(t):"horizontal"===e&&(i.includes("left")?t.stack_pos_left>o.stack_pos_left&&n.push(t):i.includes("right")&&t.stack_pos_right>o.stack_pos_right&&n.push(t)));return"vertical"===e?i.includes("top")?n.sort(t.stack_pos_top_sort):i.includes("bottom")&&n.sort(t.stack_pos_bottom_sort):"horizontal"===e&&(i.includes("left")?n.sort(t.stack_pos_left_sort):i.includes("right")&&n.sort(t.stack_pos_right_sort)),n},t.nextbelow_in_position=function(o,e){let n=[],i=o.options.position;for(let t of Msg.instances)if(t.is_open()){let s=t.options.position;if(s===i)if("vertical"===e){let e;if(s.includes("left")?e=t.stack_pos_left:s.includes("right")&&(e=t.stack_pos_right),void 0!==e&&(e>t.options.edge_padding_x+2||e<t.options.edge_padding_x-2))continue;i.includes("top")?t.stack_pos_top<o.stack_pos_top&&n.push(t):i.includes("bottom")&&t.stack_pos_bottom<o.stack_pos_bottom&&n.push(t)}else"horizontal"===e&&(i.includes("left")?t.stack_pos_left<o.stack_pos_left&&n.push(t):i.includes("right")&&t.stack_pos_right<o.stack_pos_right&&n.push(t))}return"vertical"===e?i.includes("top")?n.sort(t.stack_pos_top_sort2):i.includes("bottom")&&n.sort(t.stack_pos_bottom_sort2):"horizontal"===e&&(i.includes("left")?n.sort(t.stack_pos_left_sort2):i.includes("right")&&n.sort(t.stack_pos_right_sort2)),n[0]},t.check_vStack=function(){if(t.vStackable){let o=t.options.position;o.includes("top")?t.stack_pos_top=-1e6:o.includes("bottom")&&(t.stack_pos_bottom=-1e6);let e,n,i=t.highest_in_position("vertical");void 0!==i&&i!==t?o.includes("top")?(e=i.stack_pos_top+i.stack_height+t.options.sideStack_padding,(!t.slide_in_ongoing||"up"!==t.slide_direction&&"down"!==t.slide_direction)&&(t.window.style.top=e+"px")):o.includes("bottom")&&(n=i.stack_pos_bottom+i.stack_height+t.options.sideStack_padding,(!t.slide_in_ongoing||"up"!==t.slide_direction&&"down"!==t.slide_direction)&&(t.window.style.bottom=n+"px")):o.includes("top")?(e=t.options.edge_padding_y,(!t.slide_in_ongoing||"up"!==t.slide_direction&&"down"!==t.slide_direction)&&(t.window.style.top=e+"px")):o.includes("bottom")&&(n=t.options.edge_padding_y,(!t.slide_in_ongoing||"up"!==t.slide_direction&&"down"!==t.slide_direction)&&(t.window.style.bottom=n+"px")),o.includes("top")?t.stack_pos_top=e:o.includes("bottom")&&(t.stack_pos_bottom=n)}},t.collapse_vStack=function(){let o=t.options.position,e=t.above_in_position(t,"vertical");for(let n of e){if(!n.options.sideStack_collapse||"vertical"!==n.options.sideStack||n.closing)continue;let e,i,s=t.nextbelow_in_position(n,"vertical");void 0!==s?o.includes("top")?(e=s.stack_pos_top+s.window.offsetHeight+n.options.sideStack_padding,(!n.slide_in_ongoing||"up"!==n.slide_direction&&"down"!==n.slide_direction)&&(n.window.style.top=e+"px")):o.includes("bottom")&&(i=s.stack_pos_bottom+s.window.offsetHeight+n.options.sideStack_padding,(!n.slide_in_ongoing||"up"!==n.slide_direction&&"down"!==n.slide_direction)&&(n.window.style.bottom=i+"px")):o.includes("top")?(e=n.options.edge_padding_y,(!n.slide_in_ongoing||"up"!==n.slide_direction&&"down"!==n.slide_direction)&&(n.window.style.top=e+"px")):o.includes("bottom")&&(i=n.options.edge_padding_y,(!n.slide_in_ongoing||"up"!==n.slide_direction&&"down"!==n.slide_direction)&&(n.window.style.bottom=i+"px")),o.includes("top")?n.stack_pos_top=e:o.includes("bottom")&&(n.stack_pos_bottom=i)}},t.fix_vStack=function(){let o,e,n=t.options.position,i=t.lowest_in_position("vertical");if(void 0!==i){let s=t.above_in_position(i,"vertical");for(let t of s)n.includes("top")?(o=i.stack_pos_top+i.window.offsetHeight+t.options.sideStack_padding,(!t.slide_in_ongoing||"up"!==t.slide_direction&&"down"!==t.slide_direction)&&(t.window.style.top=o+"px"),t.stack_pos_top=o):n.includes("bottom")&&(e=i.stack_pos_bottom+i.window.offsetHeight+t.options.sideStack_padding,(!t.slide_in_ongoing||"up"!==t.slide_direction&&"down"!==t.slide_direction)&&(t.window.style.bottom=e+"px"),t.stack_pos_bottom=e),i=t}},t.check_hStack=function(){if(t.hStackable){let o=t.options.position;o.includes("left")?t.stack_pos_left=-1e6:o.includes("right")&&(t.stack_pos_right=-1e6);let e,n,i=t.highest_in_position("horizontal");void 0!==i&&i!==t?o.includes("left")?(e=i.stack_pos_left+i.stack_width+t.options.sideStack_padding,(!t.slide_in_ongoing||"left"!==t.slide_direction&&"right"!==t.slide_direction)&&(t.window.style.left=e+"px")):o.includes("right")&&(n=i.stack_pos_right+i.stack_width+t.options.sideStack_padding,(!t.slide_in_ongoing||"left"!==t.slide_direction&&"right"!==t.slide_direction)&&(t.window.style.right=n+"px")):o.includes("left")?(e=t.options.edge_padding_x,(!t.slide_in_ongoing||"left"!==t.slide_direction&&"right"!==t.slide_direction)&&(t.window.style.left=e+"px")):o.includes("right")&&(n=t.options.edge_padding_x,(!t.slide_in_ongoing||"left"!==t.slide_direction&&"right"!==t.slide_direction)&&(t.window.style.right=n+"px")),o.includes("left")?t.stack_pos_left=e:o.includes("right")&&(t.stack_pos_right=n)}},t.collapse_hStack=function(){let o=t.options.position,e=t.above_in_position(t,"horizontal");for(let n of e){if(!n.options.sideStack_collapse||"horizontal"!==n.options.sideStack||n.closing)continue;let e,i,s=t.nextbelow_in_position(n,"horizontal");void 0!==s?o.includes("left")?(e=s.stack_pos_left+s.window.offsetWidth+n.options.sideStack_padding,(!n.slide_in_ongoing||"left"!==n.slide_direction&&"right"!==n.slide_direction)&&(n.window.style.left=e+"px")):o.includes("right")&&(i=s.stack_pos_right+s.window.offsetWidth+n.options.sideStack_padding,(!n.slide_in_ongoing||"left"!==n.slide_direction&&"right"!==n.slide_direction)&&(n.window.style.right=i+"px")):o.includes("left")?(e=n.options.edge_padding_x,(!n.slide_in_ongoing||"left"!==n.slide_direction&&"right"!==n.slide_direction)&&(n.window.style.left=e+"px")):o.includes("right")&&(i=n.options.edge_padding_x,(!n.slide_in_ongoing||"left"!==n.slide_direction&&"right"!==n.slide_direction)&&(n.window.style.right=i+"px")),o.includes("left")?n.stack_pos_left=e:o.includes("right")&&(n.stack_pos_right=i)}},t.fix_hStack=function(){let o=t.options.position,e=t.lowest_in_position("horizontal");if(void 0!==e){let n,i,s=t.above_in_position(e,"horizontal");for(let t of s)o.includes("left")?(n=e.stack_pos_left+e.window.offsetWidth+t.options.sideStack_padding,(!t.slide_in_ongoing||"left"!==t.slide_direction&&"right"!==t.slide_direction)&&(t.window.style.left=n+"px"),t.stack_pos_left=n):o.includes("right")&&(i=e.stack_pos_right+e.window.offsetWidth+t.options.sideStack_padding,(!t.slide_in_ongoing||"left"!==t.slide_direction&&"right"!==t.slide_direction)&&(t.window.style.right=i+"px"),t.stack_pos_right=i),e=t}},t.fix_stacks=function(){t.is_open()&&(t.fix_vStack(),t.fix_hStack())},t.set_default_positions=function(){let o=t.options.position,e=t.options.edge_padding_x,n=t.options.edge_padding_y;"top"===o?(t.stack_pos_top=n,t.stack_pos_bottom=void 0,t.stack_pos_left=void 0,t.stack_pos_right=void 0):"bottom"===o?(t.stack_pos_top=void 0,t.stack_pos_bottom=n,t.stack_pos_left=void 0,t.stack_pos_right=void 0):"left"===o?(t.stack_pos_top=void 0,t.stack_pos_bottom=void 0,t.stack_pos_left=e,t.stack_pos_right=void 0):"right"===o?(t.stack_pos_top=void 0,t.stack_pos_bottom=void 0,t.stack_pos_left=void 0,t.stack_pos_right=e):"topleft"===o?(t.stack_pos_top=n,t.stack_pos_bottom=void 0,t.stack_pos_left=e,t.stack_pos_right=void 0):"topright"===o?(t.stack_pos_top=n,t.stack_pos_bottom=void 0,t.stack_pos_left=void 0,t.stack_pos_right=e):"bottomleft"===o?(t.stack_pos_top=void 0,t.stack_pos_bottom=n,t.stack_pos_left=e,t.stack_pos_right=void 0):"bottomright"===o?(t.stack_pos_top=void 0,t.stack_pos_bottom=n,t.stack_pos_left=void 0,t.stack_pos_right=e):(t.stack_pos_top=void 0,t.stack_pos_bottom=void 0,t.stack_pos_left=void 0,t.stack_pos_right=void 0),t.stack_width=t.window.offsetWidth,t.stack_height=t.window.offsetHeight},t.change_class=function(o){void 0!==t.container&&t.container.classList.contains(`Msg-container-${t.options.class}`)&&(t.container.classList.remove(`Msg-container-${t.options.class}`),t.container.classList.add(`Msg-container-${o}`)),void 0!==t.overlay&&t.overlay.classList.contains(`Msg-overlay-${t.options.class}`)&&(t.overlay.classList.remove(`Msg-overlay-${t.options.class}`),t.overlay.classList.add(`Msg-overlay-${o}`)),void 0!==t.overlay_x&&t.overlay_x.classList.contains(`Msg-overlay-x-${t.options.class}`)&&(t.overlay_x.classList.remove(`Msg-overlay-x-${t.options.class}`),t.overlay_x.classList.add(`Msg-overlay-x-${o}`)),void 0!==t.window&&t.window.classList.contains(`Msg-window-${t.options.class}`)&&(t.window.classList.remove(`Msg-window-${t.options.class}`),t.window.classList.add(`Msg-window-${o}`)),void 0!==t.topbar&&t.topbar.classList.contains(`Msg-topbar-${t.options.class}`)&&(t.topbar.classList.remove(`Msg-topbar-${t.options.class}`),t.topbar.classList.add(`Msg-topbar-${o}`)),void 0!==t.titlebar&&t.titlebar.classList.contains(`Msg-titlebar-${t.options.class}`)&&(t.titlebar.classList.remove(`Msg-titlebar-${t.options.class}`),t.titlebar.classList.add(`Msg-titlebar-${o}`)),void 0!==t.window_inner_x&&t.window_inner_x.classList.contains(`Msg-window-inner-x-${t.options.class}`)&&(t.window_inner_x.classList.remove(`Msg-window-inner-x-${t.options.class}`),t.window_inner_x.classList.add(`Msg-window-inner-x-${o}`)),void 0!==t.window_floating_x&&t.window_floating_x.classList.contains(`Msg-window-floating-x-${t.options.class}`)&&(t.window_floating_x.classList.remove(`Msg-window-floating-x-${t.options.class}`),t.window_floating_x.classList.add(`Msg-window-floating-x-${o}`)),void 0!==t.content_container&&t.content_container.classList.contains(`Msg-content-container-${t.options.class}`)&&(t.content_container.classList.remove(`Msg-content-container-${t.options.class}`),t.content_container.classList.add(`Msg-content-container-${o}`)),void 0!==t.content&&t.content.classList.contains(`Msg-content-${t.options.class}`)&&(t.content.classList.remove(`Msg-content-${t.options.class}`),t.content.classList.add(`Msg-content-${o}`)),void 0!==t.progressbar_container&&t.progressbar_container.classList.contains(`Msg-progressbar-container-${t.options.class}`)&&(t.progressbar_container.classList.remove(`Msg-progressbar-container-${t.options.class}`),t.progressbar_container.classList.add(`Msg-progressbar-container-${o}`)),void 0!==t.progressbar&&t.progressbar.classList.contains(`Msg-progressbar-${t.options.class}`)&&(t.progressbar.classList.remove(`Msg-progressbar-${t.options.class}`),t.progressbar.classList.add(`Msg-progressbar-${o}`)),t.options.class=o},t.remove=function(){t.destroy();for(let o=0;o<Msg.instances.length;o++)if(Msg.instances[o].options.id===t.options.id){Msg.instances.splice(o,1);break}},t.is_textbox=function(o){let t=o.tagName.toLowerCase();if("textarea"===t)return!0;if("input"!==t)return!1;let e=o.getAttribute("type");return!!e&&(e=e.toLowerCase(),input_types=["text","password","number","email","tel","url","search","date","datetime","datetime-local","time","month","week"],input_types.includes(e))},void 0===Msg.msg&&"__internal_instance__"!==t.options.id){Msg.msg=Msg.factory({id:"__internal_instance__"});let o=document.createElement("style"),t="\n\t\t.Msg-overflow-hidden{overflow:hidden}\n\n\t\t.Msg-overlay{background-color:rgba(0, 0, 0, 0.7)}\n\t\t.Msg-window{background-color:white;color:#222222}\n\t\t.Msg-titlebar{background-color:#c8c8c8;color:#222222}\n\t\t.Msg-progressbar{background-color:#c8c8c8}\n\t\t.Msg-window-inner-x:hover{background-color:#cacaca}\n\t\t.Msg-window-floating-x{background-color:#3a3a3a;color:white}\n\t\t.Msg-window-floating-x:hover{background-color:#2a2a2a}\n\t\t.Msg-overlay-x{color:white}\n\t\t.Msg-overlay-x:hover{background-color:#686868}\t\t\n\n\t\t.Msg-overlay-blue{background-color:rgba(101, 107, 124, 0.7)}\n\t\t.Msg-window-blue{background-color:#4f84b8;color:white}\n\t\t.Msg-titlebar-blue{background-color:#43729f;color:white}\n\t\t.Msg-progressbar-blue{background-color:#43729f}\n\t\t.Msg-window-inner-x-blue:hover{background-color:#476b8f}\n\t\t.Msg-overlay-x-blue{color:white}\n\t\t.Msg-overlay-x-blue:hover{background-color:#747484}\t\n\n\t\t.Msg-overlay-red{background-color:rgba(104, 64, 64, 0.7)}\n\t\t.Msg-window-red{background-color:#ca4e4e;color:white}\n\t\t.Msg-titlebar-red{background-color:#af3f3f;color:white}\n\t\t.Msg-progressbar-red{background-color:#af3f3f}\n\t\t.Msg-window-inner-x-red:hover{background-color:#9d4d4d}\n\t\t.Msg-overlay-x-red{color:white}\n\t\t.Msg-overlay-x-red:hover{background-color:#805e5e}\n\n\t\t.Msg-overlay-green{background-color:rgba(121, 159, 133, 0.7)}\n\t\t.Msg-window-green{background-color:#58a564;color:white}\n\t\t.Msg-titlebar-green{background-color:#52935c;color:white}\n\t\t.Msg-progressbar-green{background-color:#52935c}\n\t\t.Msg-window-inner-x-green:hover{background-color:#4e8456}\n\t\t.Msg-overlay-x-green{color:white}\n\t\t.Msg-overlay-x-green:hover{background-color:#7c957c}\t\n\n\t\t.Msg-overlay-black{background-color:rgba(121, 121, 121, 0.7)}\n\t\t.Msg-window-black{background-color:#1D1F21;color:white}\n\t\t.Msg-titlebar-black{background-color:#3c3c3c;color:white}\n\t\t.Msg-progressbar-black{background-color:#3c3c3c}\n\t\t.Msg-window-inner-x-black:hover{background-color:#424242}\n\t\t.Msg-overlay-x-black{color:white}\n\t\t.Msg-overlay-x-black:hover{background-color:#686868}\n\n\t\t.Msg-content-snackbar{padding:1.2em !important}\n\t\t";o.innerHTML=t,document.head.appendChild(o),document.addEventListener("keydown",function(o){let t=Msg.msg.highest_instance();if(t){if(!t.keys_enabled){let o=function(t){t.stopPropagation(),this.removeEventListener("keyup",o,!0)};document.addEventListener("keyup",o,!0)}if(27===o.keyCode){let o=Msg.msg.highest_instance();if(!o)return;if(o.options.clear_editables){let t=document.activeElement;if(o.is_textbox(t)&&!t.readOnly&&!t.disabled&&""!==t.value)return t.select(),void(document.execCommand("insertText",!1,"")||(t.value=""))}o.options.close_on_escape&&o.close()}}})}return"__internal_instance__"!==t.options.id&&Msg.instances.push(t),t},instances:[]};try{module.exports=Msg}catch(o){}